Options +FollowSymLinks +MultiViews
RewriteEngine On
RewriteBase /

# Force removal of .html extension from URL if user manually types it
RewriteCond %{THE_REQUEST} ^[A-Z]{3,}\s([^.]+)\.html [NC]
RewriteRule ^ %1 [R=301,L]

# MultiViews will handle the internal mapping of /page to /page.html automatically.
# But we keep the explicit rewrite just in case MultiViews is not allowed.

RewriteCond %{REQUEST_FILENAME} !-f
RewriteCond %{REQUEST_FILENAME} !-d
RewriteCond %{REQUEST_FILENAME}.html -f
RewriteRule ^(.*)$ $1.html [L]
